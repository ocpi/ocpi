<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1192px" preserveAspectRatio="none" style="width:768px;height:1192px;" version="1.1" viewBox="0 0 768 1192" width="768px" zoomAndPan="magnify"><defs><filter height="300%" id="f5yeot51d56lo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="276.5" y="22.9951">OCPI Registration process</text><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="819.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="335.6563"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="754.5156"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="812.7813"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="64.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="150.8594"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="335.6563"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="456.1875"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="471.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="613.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="47" y1="68.5938" y2="223.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="47" x2="47" y1="223.2578" y2="251.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="47" y1="251.2578" y2="1180.5078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="405" x2="405" y1="68.5938" y2="223.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="405" x2="405" y1="223.2578" y2="251.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="405" x2="405" y1="251.2578" y2="1180.5078"/><rect fill="#FEFECE" filter="url(#f5yeot51d56lo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="13" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="20" y="53.292">Sender</text><rect fill="#FEFECE" filter="url(#f5yeot51d56lo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="366" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="373" y="53.292">Receiver</text><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="819.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="335.6563"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="754.5156"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="812.7813"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="64.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="150.8594"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="335.6563"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="456.1875"/><rect fill="#FFFFFF" filter="url(#f5yeot51d56lo)" height="471.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="400" y="613.8516"/><rect fill="#EEEEEE" filter="url(#f5yeot51d56lo)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="753" x="3" y="99.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="756" y1="99.1602" y2="99.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="756" y1="102.1602" y2="102.1602"/><rect fill="#EEEEEE" filter="url(#f5yeot51d56lo)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="68" x="345.5" y="88.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="351.5" y="104.6606">Offline</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="405" x2="452" y1="137.8594" y2="137.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="452" y1="137.8594" y2="150.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="411" x2="452" y1="150.8594" y2="150.8594"/><polygon fill="#A80036" points="421,146.8594,411,150.8594,421,154.8594,417,150.8594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="417" y="132.7935">Generate token: CREDENTIALS_TOKEN_A</text><polygon fill="#A80036" points="58,211.2578,48,215.2578,58,219.2578,54,215.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="404" y1="215.2578" y2="215.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="64" y="179.9263">send information via e-mail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="64" y="195.0591">(CREDENTIALS_TOKEN_A,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="100" y="210.1919">"https://company.com/ocpi/cpo/versions", ...)</text><rect fill="#EEEEEE" filter="url(#f5yeot51d56lo)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="753" x="3" y="271.8242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="756" y1="271.8242" y2="271.8242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="756" y1="274.8242" y2="274.8242"/><rect fill="#EEEEEE" filter="url(#f5yeot51d56lo)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="54" x="352.5" y="261.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="358.5" y="277.3247">OCPI</text><polygon fill="#A80036" points="388,331.6563,398,335.6563,388,339.6563,392,335.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="394" y1="335.6563" y2="335.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="59" y="330.5903">GET /ocpi/cpo/versions</text><path d="M415,299.3906 L415,354.3906 L701,354.3906 L701,309.3906 L691,299.3906 L415,299.3906 " fill="#FBFB77" filter="url(#f5yeot51d56lo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M691,299.3906 L691,309.3906 L701,309.3906 L691,299.3906 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="421" y="316.4575">The Sender uses CREDENTIALS_TOKEN_A</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="421" y="331.5903">as authentication to fetch information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="425" y="346.7231">from the Receiver.</text><polygon fill="#A80036" points="63,380.9219,53,384.9219,63,388.9219,59,384.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57" x2="404" y1="384.9219" y2="384.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="69" y="379.856">Available versions</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="94" y1="414.0547" y2="414.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="94" y1="414.0547" y2="427.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="94" y1="427.0547" y2="427.0547"/><polygon fill="#A80036" points="63,423.0547,53,427.0547,63,431.0547,59,427.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="59" y="408.9888">Pick latest mutual version (e.g. 2.2).</text><polygon fill="#A80036" points="388,452.1875,398,456.1875,388,460.1875,392,456.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="394" y1="456.1875" y2="456.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="59" y="451.1216">GET /ocpi/cpo/2.2/</text><polygon fill="#A80036" points="63,481.3203,53,485.3203,63,489.3203,59,485.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57" x2="404" y1="485.3203" y2="485.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="69" y="480.2544">Available endpoints for v2.2</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="94" y1="514.4531" y2="514.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="94" y1="514.4531" y2="527.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="94" y1="527.4531" y2="527.4531"/><polygon fill="#A80036" points="63,523.4531,53,527.4531,63,531.4531,59,527.4531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="59" y="509.3872">Store version and endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="94" y1="556.5859" y2="556.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="94" y1="556.5859" y2="569.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="94" y1="569.5859" y2="569.5859"/><polygon fill="#A80036" points="63,565.5859,53,569.5859,63,573.5859,59,569.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="59" y="551.52">Generate token: CREDENTIALS_TOKEN_B</text><polygon fill="#A80036" points="388,609.8516,398,613.8516,388,617.8516,392,613.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="394" y1="613.8516" y2="613.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="59" y="593.6528">POST /ocpi/cpo/2.2/credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="59" y="608.7856">("/ocpi/emsp/versions", CREDENTIALS_TOKEN_B, ...)</text><path d="M8,626.8516 L8,681.8516 L441,681.8516 L441,636.8516 L431,626.8516 L8,626.8516 " fill="#FBFB77" filter="url(#f5yeot51d56lo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431,626.8516 L431,636.8516 L441,636.8516 L431,626.8516 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="14" y="643.9185">The Receiver does not directly respond to the POST request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="14" y="659.0513">The Receiver first needs to retrieve the versions and endpoints</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="412" x="14" y="674.1841">from the Sender before responding with CREDENTIALS_TOKEN_C</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="452" y1="712.3828" y2="712.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="452" y1="712.3828" y2="725.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="411" x2="452" y1="725.3828" y2="725.3828"/><polygon fill="#A80036" points="421,721.3828,411,725.3828,421,729.3828,417,725.3828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="417" y="707.3169">Store CREDENTIALS_TOKEN_B</text><polygon fill="#A80036" points="68,750.5156,58,754.5156,68,758.5156,64,754.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="399" y1="754.5156" y2="754.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="74" y="749.4497">GET /ocpi/emsp/versions</text><polygon fill="#A80036" points="388,779.6484,398,783.6484,388,787.6484,392,783.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="52" x2="394" y1="783.6484" y2="783.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="59" y="778.5825">Available versions</text><polygon fill="#A80036" points="68,808.7813,58,812.7813,68,816.7813,64,812.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="399" y1="812.7813" y2="812.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="74" y="807.7153">GET /ocpi/emsp/2.2/</text><polygon fill="#A80036" points="388,858.0469,398,862.0469,388,866.0469,392,862.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="52" x2="394" y1="862.0469" y2="862.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="59" y="856.981">Available endpoints for v2.2</text><path d="M415,825.7813 L415,880.7813 L730,880.7813 L730,835.7813 L720,825.7813 L415,825.7813 " fill="#FBFB77" filter="url(#f5yeot51d56lo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M720,825.7813 L720,835.7813 L730,835.7813 L720,825.7813 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="421" y="842.8481">The Receiver knows it's version 2.2 because</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="421" y="857.981">of the endpoint the Sender has used. The URL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="421" y="873.1138">is retrieved from the available versions.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="452" y1="911.3125" y2="911.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="452" y1="911.3125" y2="924.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="411" x2="452" y1="924.3125" y2="924.3125"/><polygon fill="#A80036" points="421,920.3125,411,924.3125,421,928.3125,417,924.3125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="417" y="906.2466">Store version and endpoints</text><path d="M13,937.3125 L13,992.3125 L439,992.3125 L439,947.3125 L429,937.3125 L13,937.3125 " fill="#FBFB77" filter="url(#f5yeot51d56lo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M429,937.3125 L429,947.3125 L439,947.3125 L429,937.3125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="26.5" y="954.3794">The Receiver generates CREDENTIALS_TOKEN_C and returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="354" x="26.5" y="969.5122">it in the response to the HTTP POST credentials request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="26.5" y="984.645">from the Sender above.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="452" y1="1022.8438" y2="1022.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="452" y1="1022.8438" y2="1035.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="411" x2="452" y1="1035.8438" y2="1035.8438"/><polygon fill="#A80036" points="421,1031.8438,411,1035.8438,421,1039.8438,417,1035.8438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="417" y="1017.7778">Generate CREDENTIALS_TOKEN_C</text><polygon fill="#A80036" points="63,1081.1094,53,1085.1094,63,1089.1094,59,1085.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57" x2="404" y1="1085.1094" y2="1085.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="69" y="1080.0435">Credentials with CREDENTIALS_TOKEN_C for eMSP</text><path d="M415,1048.8438 L415,1103.8438 L742,1103.8438 L742,1058.8438 L732,1048.8438 L415,1048.8438 " fill="#FBFB77" filter="url(#f5yeot51d56lo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M732,1048.8438 L732,1058.8438 L742,1058.8438 L732,1048.8438 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="421" y="1065.9106">By returning new credentials for the Receiver,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="421" y="1081.0435">the initial setup token (CREDENTIALS_TOKEN_A)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="421" y="1096.1763">has now become invalid.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="94" y1="1154.5078" y2="1154.5078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="94" y1="1154.5078" y2="1167.5078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="94" y1="1167.5078" y2="1167.5078"/><polygon fill="#A80036" points="57,1163.5078,47,1167.5078,57,1171.5078,53,1167.5078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="59" y="1134.3091">Store updated credentials with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="59" y="1149.4419">CREDENTIALS_TOKEN_C</text></g></svg>